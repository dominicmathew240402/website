<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Dominic Mathew">
        <meta property="og:title" content="Smart Plant">
        <title>Dashboard Ai Prediction</title>

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

        <link rel="stylesheet" href="/css/Dashboard-ai-testing.css">

        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Signika:wght@500&display=swap" rel="stylesheet">
    </head>
<body>
<!------------------Side Navigation -------------------------->
  <div class="Header">
    <div class="side-nav">
      <a href="#" class="logo">
        <img src="/assets/Smart Plant.png" class="logo-img">
      </a>
      <ul class="nav-links">
        <li><a href="#"><i></i><p>Dashboard</p></a></li>
        <li><a href="/RealTime.html"><i><img class = "image-con" src="/assets/home.png"></i><p>Home</p></a></li>
        <li><a href="#"><i><img class = "image-con" src="/assets/user.png"></i><p>Account</p></a></li>
        <li><a href="#"><i><img class = "image-con" src="/assets/settings.png"></i><p>Setting</p></a></li>
        <li><a class="ai-img" href="Dashboard-ai-testing.html"><i><img class = "image-con" src="/assets/scanning.png"></i><p>AI Image</p></a></li>
        <div class="active-nav"></div>
      </ul>
    <div>
  </div>
<!--------------------- Container Plant List For Detection ---------------------->
<h1 class='h1-ai-image'> Get Instant & Accurate Crop Disease Detection with Smart Plant</h1>
        <div class="container" id="crops-list">
            <h5 class="h5-ai-image">Smart Plant currently supports the following Crops and their diseases:</h5>
        </div>
                <br>
                <div class="container custom-bg-color rounded" style="padding-top: 12px; padding-bottom: 12px;">
                    <nav>
                        <div class="nav nav-tabs crops-list-tab" style="border: none; padding-bottom: 12px;" id="nav-tab" role="tablist">
                            <button class="nav-link crops-list-tab active rounded" id="nav-apple-tab" data-bs-toggle="tab" data-bs-target="#nav-apple" type="button" role="tab" aria-controls="nav-apple" aria-selected="true">Apple</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-bell-pepper-tab" data-bs-toggle="tab" data-bs-target="#nav-bell-pepper" type="button" role="tab" aria-controls="nav-bell-pepper" aria-selected="false">Bell Pepper</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-blueberry-tab" data-bs-toggle="tab" data-bs-target="#nav-blueberry" type="button" role="tab" aria-controls="nav-blueberry" aria-selected="false">Blueberry</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-cherry-tab" data-bs-toggle="tab" data-bs-target="#nav-cherry" type="button" role="tab" aria-controls="nav-cherry" aria-selected="false">Cherry</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-corn-maize-tab" data-bs-toggle="tab" data-bs-target="#nav-corn-maize" type="button" role="tab" aria-controls="nav-corn-maize" aria-selected="false">Corn (Maize)</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-grape-tab" data-bs-toggle="tab" data-bs-target="#nav-grape" type="button" role="tab" aria-controls="nav-grape" aria-selected="false">Grape</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-orange-tab" data-bs-toggle="tab" data-bs-target="#nav-orange" type="button" role="tab" aria-controls="nav-orange" aria-selected="false">Orange</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-peach-tab" data-bs-toggle="tab" data-bs-target="#nav-peach" type="button" role="tab" aria-controls="nav-peach" aria-selected="false">Peach</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-potato-tab" data-bs-toggle="tab" data-bs-target="#nav-potato" type="button" role="tab" aria-controls="nav-potato" aria-selected="false">Potato</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-raspberry-tab" data-bs-toggle="tab" data-bs-target="#nav-raspberry" type="button" role="tab" aria-controls="nav-raspberry" aria-selected="false">Raspberry</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-rice-tab" data-bs-toggle="tab" data-bs-target="#nav-rice" type="button" role="tab" aria-controls="nav-rice" aria-selected="false">Rice</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-soybean-tab" data-bs-toggle="tab" data-bs-target="#nav-soybean" type="button" role="tab" aria-controls="nav-soybean" aria-selected="false">Soybean</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-squash-tab" data-bs-toggle="tab" data-bs-target="#nav-squash" type="button" role="tab" aria-controls="nav-squash" aria-selected="false">Squash</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-strawberry-tab" data-bs-toggle="tab" data-bs-target="#nav-strawberry" type="button" role="tab" aria-controls="nav-strawberry" aria-selected="false">Strawberry</button>
                            <button class="nav-link crops-list-tab rounded" id="nav-tomato-tab" data-bs-toggle="tab" data-bs-target="#nav-tomato" type="button" role="tab" aria-controls="nav-tomato" aria-selected="false">Tomato</button>
                        </div>
                    </nav>
                    <div class="tab-content custom-bg-color-2 rounded" style="padding-bottom: 5px; padding-top: 17px;" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="nav-apple" role="tabpanel" aria-labelledby="nav-apple-tab">
                            <ul class="plant-list">
                                <li>Apple Scab</li>
                                <li>Black Rot</li>
                                <li>Cedar Rust</li>
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-bell-pepper" role="tabpanel" aria-labelledby="nav-bell-pepper-tab">
                            <ul class="plant-list">
                                <li>Bacterial Spot</li>
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-blueberry" role="tabpanel" aria-labelledby="nav-blueberry-tab">
                            <ul class="plant-list">
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-cherry" role="tabpanel" aria-labelledby="nav-cherry-tab">
                            <ul class="plant-list">
                                <li>Powdery Mildew</li>
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-corn-maize" role="tabpanel" aria-labelledby="nav-corn-maize-tab">
                            <ul class="plant-list">
                                <li>Grey Leaf Spot</li>
                                <li>Common Rust of Maize</li>
                                <li>Northern Leaf Blight</li>
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-grape" role="tabpanel" aria-labelledby="nav-grape-tab">
                            <ul class="plant-list">
                                <li>Black Rot</li>
                                <li>Black Measles (Esca)</li>
                                <li>Leaf Blight (Isariopsis Leaf Spot)</li>
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-orange" role="tabpanel" aria-labelledby="nav-orange-tab">
                            <ul class="plant-list">
                                <li>Huanglongbing (Citrus Greening)</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-peach" role="tabpanel" aria-labelledby="nav-peach-tab">
                            <ul class="plant-list">
                                <li>Bacterial spot</li>
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-potato" role="tabpanel" aria-labelledby="nav-potato-tab">
                            <ul class="plant-list">
                                <li>Early Blight</li>
                                <li>Late Blight</li>
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-raspberry" role="tabpanel" aria-labelledby="nav-raspberry-tab">
                            <ul class="plant-list">
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-rice" role="tabpanel" aria-labelledby="nav-rice-tab">
                            <ul class="plant-list">
                                <li>Brown Spot</li>
                                <li>Hispa</li>
                                <li>Leaf Blast</li>
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-soybean" role="tabpanel" aria-labelledby="nav-soybean-tab">
                            <ul class="plant-list">
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-squash" role="tabpanel" aria-labelledby="nav-squash-tab">
                            <ul class="plant-list">
                                <li>Powdery Mildew</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-strawberry" role="tabpanel" aria-labelledby="nav-strawberry-tab">
                            <ul class="plant-list">
                                <li>Leaf Scorch</li>
                                <li>Healthy</li>
                            </ul>
                        </div>
                        <div class="tab-pane fade" id="nav-tomato" role="tabpanel" aria-labelledby="nav-tomato-tab">
                            <ul class="plant-list">
                                <li>Bacterial Spot</li>
                                <li>Early Blight</li>
                                <li>Late Blight</li>
                                <li>Leaf Mold</li>
                                <li>Septoria Leaf Spot</li>
                                <li>Spider Mites (Two-spotted Spider Mite)</li>
                                <li>Target Spot</li>
                                <li>Yellow Leaf Curl Virus</li>
                                <li>Mosaic Virus</li>
                                <li>Healthy</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        <!-- Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
<!------------------------------------------- Ai Image Prediction ------------------------------>
    <div class="container-ai-image">
        <form action="https://agentcrop.azurewebsites.net/api/predict" method = "POST" enctype = "multipart/form-data" id="api-form">
            <input type="file" name="files" multiple required />
            <input type="submit" value="submit" onclick="workingData(data)" />
        </form>
    </div>

        <div id="show-data"></div>
        <script>
            // Function to work with your data.
            function workWithData(data) {
                document.getElementById('show-data').style.backgroundColor = "rgba(255,255,255, .15)";
                document.getElementById('show-data').style.backdropFilter = "blur(14px)";
                document.getElementById('show-data').style.boxShadow = "rgba(0, 0, 0, 0.56) 0px 22px 70px 4px";
                document.getElementById('show-data').style.display = "block";
                document.getElementById('show-data').style.position = "relative";
                document.getElementById('show-data').style.width = "80%";
                document.getElementById('show-data').style.height = "400px";
                document.getElementById('show-data').style.left = "220px";
                document.getElementById('show-data').style.top = "50px";
                document.getElementById('show-data').style.borderRadius = "24px";
                document.getElementById('show-data').style.padding = "12px";

                // Here you can simply show data using iterating through it or you can do whatever you want with it.
                document.getElementById('show-data').innerHTML = "";
                for (let imageName in data) {
                    document.getElementById('show-data').innerHTML += "<h3>" + imageName + ": </h3>";
                    for (let detail in data[imageName]) {
                        document.getElementById('show-data').innerHTML += "<p><strong>" + detail.replace(detail[0], detail[0].toUpperCase()) + ": </strong>" + data[imageName][detail] + "</p>";
                        }
                    }
                }

            // Function to handle submit event.
            function handleFormSubmit(event) {
                
                // Prevent default behavior of submit event.
                event.preventDefault();

                // Get the form element and url.
                const form = event.currentTarget;
                const url = form.action;
                
                // Define formData object to store the images and later send it to API.
                const formData = new FormData();

                // Find file input element.
                const photos = document.querySelector('input[type="file"][multiple]');
                
                // Iterate through file input element and save images to the formData object.
                for (let i = 0; i < photos.files.length; i++) {
                    formData.append('files', photos.files[i]);
                }

                // Below we use fetch to send formData to the API.
                fetch(url, {
                    method: 'POST',
                    body: formData,
                    origin: "*"
                })
                .then(
                    // After that we get response and work with it.
                    function(response) {

                        // If response's ok property is false, then shows error and return.
                        if (!response.ok) {
                            console.log('Looks like there was a problem. Status Code: ' + response.status);
                            return;
                        }

                        // Now we parse response to the json and then get the data object.
                        response.json().then(function(data) {

                            // We will pass data object to external function to work with it.
                            workWithData(data);
                        });
                    }
                )
                .catch(function(err) {
                    
                    // If any error occurs the it will show it.
                    console.log('Fetch Error :-S', err);
                });
            }

            // Get the form element using it's id.
            const apiForm = document.getElementById("api-form");

            // Add event listener on submit event.
            apiForm.addEventListener("submit", handleFormSubmit);

            /**
         * Ribbons Class File.
         * Creates low-poly ribbons background effect inside a target container.
         */
        ;(function(name, factory) {
          if (typeof window === 'object') {
            window[name] = factory()
          }
        })('Ribbons', function() {
          var _w = window,
            _b = document.body,
            _d = document.documentElement

          // random helper
          var random = function() {
            if (arguments.length === 1) {
              // only 1 argument
              if (Array.isArray(arguments[0])) {
                // extract index from array
                var index = Math.round(random(0, arguments[0].length - 1))
                return arguments[0][index]
              }
              return random(0, arguments[0]) // assume numeric
            } else if (arguments.length === 2) {
              // two arguments range
              return Math.random() * (arguments[1] - arguments[0]) + arguments[0]
            } else if (arguments.length === 4) {
              //

              var array = [arguments[0], arguments[1], arguments[2], arguments[3]]
              return array[Math.floor(Math.random() * array.length)]
              //return console.log(item)
            }
            return 0 // default
          }

          // screen helper
          var screenInfo = function(e) {
            var width = Math.max(
                0,
                _w.innerWidth || _d.clientWidth || _b.clientWidth || 0
              ),
              height = Math.max(
                0,
                _w.innerHeight || _d.clientHeight || _b.clientHeight || 0
              ),
              scrollx =
                Math.max(0, _w.pageXOffset || _d.scrollLeft || _b.scrollLeft || 0) -
                (_d.clientLeft || 0),
              scrolly =
                Math.max(0, _w.pageYOffset || _d.scrollTop || _b.scrollTop || 0) -
                (_d.clientTop || 0)

            return {
              width: width,
              height: height,
              ratio: width / height,
              centerx: width / 2,
              centery: height / 2,
              scrollx: scrollx,
              scrolly: scrolly
            }
          }

          // mouse/input helper
          var mouseInfo = function(e) {
            var screen = screenInfo(e),
              mousex = e ? Math.max(0, e.pageX || e.clientX || 0) : 0,
              mousey = e ? Math.max(0, e.pageY || e.clientY || 0) : 0

            return {
              mousex: mousex,
              mousey: mousey,
              centerx: mousex - screen.width / 2,
              centery: mousey - screen.height / 2
            }
          }

          // point object
          var Point = function(x, y) {
            this.x = 0
            this.y = 0
            this.set(x, y)
          }
          Point.prototype = {
            constructor: Point,

            set: function(x, y) {
              this.x = x || 0
              this.y = y || 0
            },
            copy: function(point) {
              this.x = point.x || 0
              this.y = point.y || 0
              return this
            },
            multiply: function(x, y) {
              this.x *= x || 1
              this.y *= y || 1
              return this
            },
            divide: function(x, y) {
              this.x /= x || 1
              this.y /= y || 1
              return this
            },
            add: function(x, y) {
              this.x += x || 0
              this.y += y || 0
              return this
            },
            subtract: function(x, y) {
              this.x -= x || 0
              this.y -= y || 0
              return this
            },
            clampX: function(min, max) {
              this.x = Math.max(min, Math.min(this.x, max))
              return this
            },
            clampY: function(min, max) {
              this.y = Math.max(min, Math.min(this.y, max))
              return this
            },
            flipX: function() {
              this.x *= -1
              return this
            },
            flipY: function() {
              this.y *= -1
              return this
            }
          }

          // class constructor
          var Factory = function(options) {
            this._canvas = null
            this._context = null
            this._sto = null
            this._width = 0
            this._height = 0
            this._scroll = 0
            this._ribbons = []
            this._options = {
              // ribbon color HSL saturation amount
              colorSaturation: '80%',
              // ribbon color HSL brightness amount
              colorBrightness: '60%',
              // ribbon color opacity amount
              colorAlpha: 0.65,
              // how fast to cycle through colors in the HSL color space
              colorCycleSpeed: 6,
              // where to start from on the Y axis on each side (top|min, middle|center, bottom|max, random)
              verticalPosition: 'center',
              // how fast to get to the other side of the screen
              horizontalSpeed: 150,
              // how many ribbons to keep on screen at any given time
              ribbonCount: 3,
              // add stroke along with ribbon fill colors
              strokeSize: 0,
              // move ribbons vertically by a factor on page scroll
              parallaxAmount: -0.5,
              // add animation effect to each ribbon section over time
              animateSections: true
            }
            this._onDraw = this._onDraw.bind(this)
            this._onResize = this._onResize.bind(this)
            this._onScroll = this._onScroll.bind(this)
            this.setOptions(options)
            this.init()
          }

          // class prototype
          Factory.prototype = {
            constructor: Factory,

            // Set and merge local options
            setOptions: function(options) {
              if (typeof options === 'object') {
                for (var key in options) {
                  if (options.hasOwnProperty(key)) {
                    this._options[key] = options[key]
                  }
                }
              }
            },

            // Initialize the ribbons effect
            init: function() {
              try {
                this._canvas = document.createElement('canvas')
                this._canvas.style['display'] = 'block'
                this._canvas.style['position'] = 'fixed'
                this._canvas.style['margin'] = '0'
                this._canvas.style['padding'] = '0'
                this._canvas.style['border'] = '0'
                this._canvas.style['outline'] = '0'
                this._canvas.style['left'] = '0'
                this._canvas.style['top'] = '0'
                this._canvas.style['width'] = '100%'
                this._canvas.style['height'] = '100%'
                this._canvas.style['z-index'] = '-1'
                this._onResize()

                this._context = this._canvas.getContext('2d')
                this._context.clearRect(0, 0, this._width, this._height)
                this._context.globalAlpha = this._options.colorAlpha

                window.addEventListener('resize', this._onResize)
                window.addEventListener('scroll', this._onScroll)
                document.body.appendChild(this._canvas)
              } catch (e) {
                console.warn('Canvas Context Error: ' + e.toString())
                return
              }
              this._onDraw()
            },

            // Create a new random ribbon and to the list
            addRibbon: function() {
              // movement data
              var dir = Math.round(random(1, 9)) > 5 ? 'right' : 'left',
                stop = 1000,
                hide = 200,
                min = 0 - hide,
                max = this._width + hide,
                movex = 0,
                movey = 0,
                startx = dir === 'right' ? min : max,
                starty = Math.round(random(0, this._height))

              // asjust starty based on options
              if (/^(top|min)$/i.test(this._options.verticalPosition)) {
                starty = 0 + hide
              } else if (/^(middle|center)$/i.test(this._options.verticalPosition)) {
                starty = this._height / 2
              } else if (/^(bottom|max)$/i.test(this._options.verticalPosition)) {
                starty = this._height - hide
              }

              // ribbon sections data
              var ribbon = [],
                point1 = new Point(startx, starty),
                point2 = new Point(startx, starty),
                point3 = null,
                color = Math.round(random(35, 35, 40, 40)),
                delay = 0

              // buils ribbon sections
              while (true) {
                if (stop <= 0) break
                stop--

                movex = Math.round(
                  (Math.random() * 1 - 0.2) * this._options.horizontalSpeed
                )
                movey = Math.round((Math.random() * 1 - 0.5) * (this._height * 0.25))

                point3 = new Point()
                point3.copy(point2)

                if (dir === 'right') {
                  point3.add(movex, movey)
                  if (point2.x >= max) break
                } else if (dir === 'left') {
                  point3.subtract(movex, movey)
                  if (point2.x <= min) break
                }
                // point3.clampY( 0, this._height );
                //console.log(Math.round(random(1, 5)))
                ribbon.push({
                  // single ribbon section
                  point1: new Point(point1.x, point1.y),
                  point2: new Point(point2.x, point2.y),
                  point3: point3,
                  color: color,
                  delay: delay,
                  dir: dir,
                  alpha: 0,
                  phase: 0
                })

                point1.copy(point2)
                point2.copy(point3)

                delay += 4
                //color += 1
                //console.log('colorCycleSpeed', color)
              }
              this._ribbons.push(ribbon)
            },

            // Draw single section
            _drawRibbonSection: function(section) {
              if (section) {
                if (section.phase >= 1 && section.alpha <= 0) {
                  return true // done
                }
                if (section.delay <= 0) {
                  section.phase += 0.02
                  section.alpha = Math.sin(section.phase) * 1
                  section.alpha = section.alpha <= 0 ? 0 : section.alpha
                  section.alpha = section.alpha >= 1 ? 1 : section.alpha

                  if (this._options.animateSections) {
                    var mod = Math.sin(1 + section.phase * Math.PI / 2) * 0.1

                    if (section.dir === 'right') {
                      section.point1.add(mod, 0)
                      section.point2.add(mod, 0)
                      section.point3.add(mod, 0)
                    } else {
                      section.point1.subtract(mod, 0)
                      section.point2.subtract(mod, 0)
                      section.point3.subtract(mod, 0)
                    }
                    section.point1.add(0, mod)
                    section.point2.add(0, mod)
                    section.point3.add(0, mod)
                  }
                } else {
                  section.delay -= 0.5
                }
                //console.log('section.color', section.color)
                var s = this._options.colorSaturation,
                  l = this._options.colorBrightness,
                  c =
                    'hsla(' +
                    section.color +
                    ', ' +
                    s +
                    ', ' +
                    l +
                    ', ' +
                    section.alpha +
                    ' )'

                this._context.save()

                if (this._options.parallaxAmount !== 0) {
                  this._context.translate(
                    0,
                    this._scroll * this._options.parallaxAmount
                  )
                }
                this._context.beginPath()
                this._context.moveTo(section.point1.x, section.point1.y)
                this._context.lineTo(section.point2.x, section.point2.y)
                this._context.lineTo(section.point3.x, section.point3.y)
                this._context.fillStyle = c
                this._context.fill()

                if (this._options.strokeSize > 0) {
                  this._context.lineWidth = this._options.strokeSize
                  this._context.strokeStyle = c
                  this._context.lineCap = 'round'
                  this._context.stroke()
                }
                this._context.restore()
              }
              return false // not done yet
            },

            // Draw ribbons
            _onDraw: function() {
              // cleanup on ribbons list to rtemoved finished ribbons
              for (var i = 0, t = this._ribbons.length; i < t; ++i) {
                if (!this._ribbons[i]) {
                  this._ribbons.splice(i, 1)
                }
              }

              // draw new ribbons
              this._context.clearRect(0, 0, this._width, this._height)

              for (
                var a = 0;
                a < this._ribbons.length;
                ++a // single ribbon
              ) {
                var ribbon = this._ribbons[a],
                  numSections = ribbon.length,
                  numDone = 0

                for (
                  var b = 0;
                  b < numSections;
                  ++b // ribbon section
                ) {
                  if (this._drawRibbonSection(ribbon[b])) {
                    numDone++ // section done
                  }
                }
                if (numDone >= numSections) {
                  // ribbon done
                  this._ribbons[a] = null
                }
              }
              // maintain optional number of ribbons on canvas
              if (this._ribbons.length < this._options.ribbonCount) {
                this.addRibbon()
              }
              requestAnimationFrame(this._onDraw)
            },

            // Update container size info
            _onResize: function(e) {
              var screen = screenInfo(e)
              this._width = screen.width
              this._height = screen.height

              if (this._canvas) {
                this._canvas.width = this._width
                this._canvas.height = this._height

                if (this._context) {
                  this._context.globalAlpha = this._options.colorAlpha
                }
              }
            },

            // Update container size info
            _onScroll: function(e) {
              var screen = screenInfo(e)
              this._scroll = screen.scrolly
            }
          }

          // export
          return Factory
        })

        new Ribbons({
          colorSaturation: '60%',
          colorBrightness: '50%',
          colorAlpha: 0.5,
          colorCycleSpeed: 5,
          verticalPosition: 'random',
          horizontalSpeed: 200,
          ribbonCount: 3,
          strokeSize: 0,
          parallaxAmount: -0.2,
          animateSections: true
        })
        </script>
        </script>
    </body>
</html>
